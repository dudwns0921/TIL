# 운영체제

## 저장장치 및 파일 관리

### 순차접근 저장장치

- 데이터를 순차적으로 읽거나 쓸 수 있는 저장장치
- 초기 접근 시간이 굉장히 오래 걸림
- 순차적으로 접근해야 하기 때문에 뒤쪽에 있는 데이터에 대해서는 접근하는 게 오래 걸림
- 대량의 데이터 백업용으로 사용

### 직접접근 저장장치

- 지정한 위치를 직접 찾아 데이터를 읽거나 쓸 수 있는 장치
- 종류
  - 자기 디스크
  - 광디스크
  - SSD
    - 읽고 쓰기가 가능
    - 전력공급이 없어도 데이터가 지워지지 않음
    - 자기 디스크보다 속도가 빠르고 전력 소모가 적음
    - 용량 대비 가격이 비싸며 수명이 짧음

### 디스크 스케줄링

- 디스크 접근 요구를 효율적으로 처리하는 순서를 결정하는 작업
  - 디스크 접근 요구 : 디스크에서 데이터를 읽거나 쓰는 요구
- 프로세스들의 요구를 디스크 큐에 두고 관리
- 기계적 동작이 최소화되도록 디스크 큐를 재배열

### 디스크 접근 요구 처리 시간

- 탐구 시간
- 회전지연시간
- 전송시간
  - 헤드가 접근할 데이터 위치에 있다면 탐구 시간은 없을 수 있지만 전송 시간은 늘 존재
  - 디스크 회전 자체가 빠르기 때문에 회전지연시간이 짧음
  - 대부분 탐구 시간을 최적화하는 거에 맞춰져 있음
- 스케줄링 형태
  - 탐구시간 최적화
  - 회전지연시간 최적화

### FCFS 스케줄링

- 먼저 도착한 접근 요구가 먼저 서비스를 받는 방법
- 큐로 구현
- 장점
  - 접근 요구의 도착순서대로 실행되므로 공평
- 단점
  - 도착순서에 따라 총탐구시간이 커질 수 있음
  - 디스크 부하가 높을수록 응답시간이 길어짐

### SSTF 스케줄링

- 탐구시간이 가장 짧은 접근 요구를 먼저 처리하는 방법
- 장점
  - FCFS 스케줄링보다 처리량, 평균응답시간 개선
    - 일괄처리 운영체제에 적합
- 단점
  - 양 끝 쪽에 위치한 트랙에 대한 접근 요구는 기아상태 발생 가능
  - 트랙 위치에 따라 응답시간 편차 큼
    - 시분할 운영체제에 부적합

### SCAN 스케줄링

- 양 끝 트랙 사이를 왕복하며 진행방향의 가장 가까운 접근 요구를 먼저 처리하는 방법 
- 장점
  - SSTF 스케줄링의 응답시간 편차를 어느 정도 개선
- 단점
  - 새로운 요구가 헤드 진행방향의 바로 앞이냐 뒤냐에 따라 응답시간 편차 발생
  - 양 끝 트랙은 헤드가 한 번 왕복할 때 한 번의 서비스 기회만 있음

### C-SCAN 스케줄링

- 오로지 한 쪽 방향으로만 진행방향의 가장 가까운 접근 요구를 먼저 처리하는 방법으로 나머지는 SCAN 스케줄링과 동일
- 장점
  - 양 끝 트랙에 대한 접근 요구의 차별 제거
  - 응답시간의 편차가 매우 적음

### LOOK 스케줄링

- SCAN 스케줄링처럼 처리하되 진행방향으로 더 이상 접근 요구가 없으면 방향을 바꾸는 방법

### C-LOOK 스케줄링

- C-SCAN 스케줄링처럼 처리하되 진행방향으로 더 이상 접근 요구가 없으면 방향을 바꾸어 가장 먼 접근 요구의 트랙까지 이동하는 방법

### SLTF - 회전 지연시간 최적화

- 동일 실린더의 여러 섹터에 대한 접근 요구에 대해 회전지연시간이 가장 짧은 것을 먼저 처리하는 방법
- 높은 부하상태에서 유용
- 회전지연시간 최적화

### 파일 관리자

- 파일을 생성, 삭제, 수정
- 파일에 접근하는 것을 제어
- 파일에 의해 사용되는 자원을 관리

### 파일 관리자의 요소

- 액세스 방식
- 파일 관리
  - 파일을 저장, 참조, 공유 및 안전하게 보호되도록 함
- 보조기억장치 관리
- 파일 무결성 유지

### 파일 구조와 접근방식

- 파일 구조
  - 파일을 구성하는 레코드들이 보조기억장치에 배치되는 방식
  - 순차 파일
    - 레코드가 물리적 순서에 따라 저장되어 있는 파일
    - 순차접근 저장장치에 많이 이용
  - 인덱스된 순차 파일
    - 각 레코드의 키를 기준으로 한 논리적 순서낻로 레코드가 저장
    - 일부 주요 레코드의 실제 주소가 저장된 인덱스를 구성하여 관리하는 파일
    - 순차 접근과 직접 접근 모두 가능
    - 보통 디스크에 이용
  - 직접 파일
    - 각 레코드의 키를 이용하여 직접접근 저장장치의 물리적 주소를 통해 직접 액세스되는 파일
    - 논리적인 키와 물리적 주소의 사상은 프로그래머가 정의

### 디스크 공간 할당

- 연속 할당 기법
  - 보조기억장치의 연속된 가용공간에 파일 저장공간을 할당
  - 필요한 공간의 크기를 미리 정해야 함
  - 장점
    - 액세스가 효율적
    - 디렉터리 구현이 단순
  - 단점
    - 외부 단편화
    - 파일 크기 확장에 대한 대응이 비효율적

- 불연속 할당 기법
  - 섹터 또는 블록 단위로 공간을 할당
  - 포인터를 이용하여 블록들을 연결
  - 장점
    - 단편화 문제 해결
    - 파일 확장 문제 해결
  - 단점
    - 파일 공간 분산으로 성능 저하
    - 포인터 관리를 위한 연산 및 공간 소비
