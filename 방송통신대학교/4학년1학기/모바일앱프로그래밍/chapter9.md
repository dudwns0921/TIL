# 모바일 앱 프로그래밍

## 9강. 이벤트 처리 1

### 1. 이벤트 핸들러

#### 0. 이벤트 핸들러

##### 개요

- View를 통한 콜백 메소드의 구현
- 클래스를 통한 이벤트 리스너의 구현

#### 1. View를 통한 콜백 메소드의 구현

##### 개요

- 사용자와 상호작용을 수행하는 주체인 View에서 구현
- View 클래스 내부에는 존재하는 추상 메소드가 있음. 재정의해서 활용

- 이벤트 발생시 안드로이드 프레임워크가 자동으로 실행

##### 콜백 메소드를 이용한 이벤트 처리 예제 설명

- onTouchEvent() 콜백 메소드는 매개변수로 MotionEvent 객체를 가지며, View에 터치 이벤트가 발생할 때마다 호출
- MotionEvent 객체는 스마트폰 화면에 대하여 움직이는 이벤트에 대한 정보를 담고 있는 객체
  - 터치 이벤트의 종류와 좌표 정보들이 저장

#### 2. 이벤트 리스너 인터페이스의 구현

##### 개요

- View를 통한 콜백 메소드는 특정 터치 이벤트만 처리가 가능
- 이벤트 리스너 인터페이스를 통한 이벤트의 처리는 처리 가능한 이벤트가 제한적이지 않으므로 범용적이며, View를 상속받을 필요도 없음

##### 이벤트 리스너 인터페이스 예제 설명

- 이벤트 리스너가 동작하기 위한 틀만 제공
- 그 자체가 이벤트를 처리하는 기능을 구현해놓지는 않음
- 모든 이벤트에 대해 클래스를 만든다면 소스 코드의 양도 많아지고 각 클래스마다 다른 명칭을 부여해야 하므로 코드가 복잡해짐

#### 3. 액티비티를 통한 이벤트 리스너의 구현

##### 개요

- 선언문에서 인터페이스를 상속받고 본체에 이벤트 핸들러 메소드 구현
- 액티비티를 통해 View에 대한 이벤트를 처리하기 위한 메소드를 제공한다는 점에서 View는 액티비티에 종속적임
- 즉, View가 다른 액티비티에 재사용되려면 이벤트 리스너를 다른 액티비티에 구현해야 함
- 액티비티가 인터페이스를 자체 구현하므로 별도의 클래스를 선언할 필요도 없음
- 액티비티 객체가 이미 존재하여 이벤트 리스너 객체를 생성할 필요도 없으므로 전체적으로 코드가 간결하고 단순

#### 4. View를 통한 이벤트 리스너의 구현

- View 클래스 선언 부분에서 필요한 리스너 인터페이스를 상속받아 구현하는 방식
- 액티비티에서 직접 이벤트 리스너를 구현하는 것이 아니기 때문에 액티비티에 종속적이지 않아 클래스 재사용 면에서 유리

### 2. 이벤트 핸들러 우선순위

- 일반적인 우선순위
  - View의 인터페이스 리스너
  - View의 콜백 메소드
  - 액티비티의 콜백 메소
- 내부에 중첩된 안쪽 범위일수록 우선순위가 높음
- 각 이벤트 핸들러에서 반환되는 값을 통해 다음 순위의 이벤트 핸들러에 대한 호출 여부를 결정
- true면 종료
- false면 진행
