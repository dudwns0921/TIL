# Java 프로그래밍

## java.io 패키지와 스트림

### 스트림

#### Java언어와 스트림

- Java 언어에서 스트림을 통해 입출력을 수행할 수 있음
  - 입력 스트림은 데이터 생산자(소스)와 연결
  - 출력 스트림은 데이터 소비자(목적지)와 연결
- 다양한 입출력 종류(디스크, 문자 배열, 네트워크 소켓, 다른 프로그램 등)에 상관없이 동일한 방법으로 프로그램을 작성
  - 스트림을 통해 입출력을 제어함
- 스트림
  - 순서가 있는 일련의 데이터 흐름을 의미
  - 데이터 생산자(소스)와 데이터 소비자(목적지) 사이의 데이터가 지나는 통로
- 스트림 특징
  - 정해진 방향 존재
  - 스트림을 통해 전달되는 데이터는 순차적으로만 접근이 가능

#### 스트림의 분류

- 입력 스트림과 출력 스트림
  - io 패키지에 관련 클래스들이 존재
  - 프로그램은 입력 스트림으로부터 데이터를 읽을 수 있음
    - 데이터 소스가 설정되어야 함
  - 프로그램은 출력 스트림으로 데이터를 쓸 수 있음
    - 데이터 목적지가 설정되어야 함
- 바이트 스트림과 캐릭터 스트림
  - 바이트 스트림은 byte 단위로 데이터를 다룸
    - InputStream, OutputStream
  - 캐릭터 스트림은 char 단위로 데이터를 다룸
    - Reader, Writer
- 기본 스트림과 보조 스트림
  - 기본 스트림은 입출력 기능을 제공하는 스트림
  - 보조 스트림은 자체적으로 입출력 기능을 수행할 수는 없어서 기본 스트림과 함께 상요되어야 하며, 보조 기능을 제공

#### 스트림 관련 클래스

- java.io 패키지의 스트림 클래스
- 자세한 사항은 교재 참고

#### 스트림 사용하기

- 입출력 설정
- 데이터와 생산자(입력)와 소비자(출력)를 결정
  - 기본 스트림을 반드시 사용해야 함
- 문자와 바이트 단위 설정
- 보조 스트림 필요 확인
  - 기본 스트림을 먼저 생성하고, 기본 스트림을 감싸 보조 스트림 객체를 생성

### 바이트 스트림

#### InputStream 클래스

- 바이트 단위 입력 스트림 클래스의 최상위 클래스
- system.in -> 키보드 입력을 받기 위한 표준 스트림
  - InputStream 유형
- 주요 메소드
  - read
    - 입력 스트림으로부터 1바이트를 읽어 정수로 리턴
    - 이 때 한글은 2바이트를 사용하기 때문에 읽어올 수 없음.

#### OutputStream 클래스

- 바이트 단위 출력 스트림 클래스의 최상위 클래스
- InputStream 클래스와 마찬가지로 추상 클래스
- 주요 메서드
  - close
    - 출력 스트림을 닫고 할당받은 자원을 돌려주는 메서드
  - flush
    - 스트림에 남아있는 바이트 데이터를 강제로 데이터 목적지에 내보내는 것

### 캐릭터 스트림

#### Reader 클래스

- 입력용 캐릭터 단위 스트림 클래스의 최상위 클래스
- 추상 클래스이며 이것의 하위 클래스는 xxxReader

#### Writer 클래스

- 출력용 캐릭터 단위 스트림 클래스의 최상위 클래스
- 추상 클래스, 하위 클래스는 xxxWriter

### 파일 입출력

#### File 클래스

- 파일이나 디렉터리를 표현
  - 상대 또는 절대 경로를 가짐
- 파일/디렉터리를 조작할 수 있는 메소드 제공
  - 이름과 경로의 조회
  - 파일과 디렉토리의 생성과 삭제
    - 입출력 메소드는 제공되지 않음
    - 파일 자체, 디렉토리를 표현하기 위한 클래스일뿐 파일의 입출력 기능을 제공하지는 않음.
- 생성자
  - pathname을 전달할 때는 상대 또는 절대 경로로 표현 가능
- File 대신 Path 클래스를 사용하는 걸 권장(jdk 7 이후)

#### RandomAccessFile 클래스

- 랜덤 액세스 파일
  - 파일의 임의 위치에서 읽기/쓰기가 가능
    - 파일을 오픈하고, 위치를 지정하고, 읽기/쓰기를 함
  - 읽고 쓰는 위치는 파일 포인터가 가리킴
    - 읽기(또는 쓰기)는 파일 포인터가 가리키는 위치부터 바이트 단위로 읽음
  - byte 단위로 읽고 쓰며, 파일 포인터가 이동됨
    - 랜덤 엑세스 파일을 커다란 byte 배열로 볼 수 있음

#### FileInputStream과 FileOutputStream 클래스

- 파일로부터 데이터를 읽고 쓰기 위한 입력 출력용 기본 스트림
- 바이트 단위의 입력/출력
- FileInputStream 클래스의 생성자
  - 기존 파일과 연결된 입력 스트림 객체를 생성
  - 이름 또는 파일 객체를 주고 스트림을 생성할 수 있음
- FileOutputStream 클래스의 생성자
  - 기존 파일과 연결된 출력 스트림 객체를 생성
  - 생성자의 인자가 디렉터리거나 파일이 아닐 경우 FileNotFoundException 발생
- FileReader와 FileWriter 클래스
  - 텍스트 파일을 다루기 위한 기본 스트림
  - 문자 단위의 입력/출력

### 콘솔 입출력

#### 콘솔 클래스

- 콘솔 입출력을 제공하는 클래스
  - 키보드 입력과 화면 출력을 편리하게 지원
  - 명령 프롬프트 창에서 실행해야 함
  - System.console() 을 사용하여 콘솔 객체를 생성함

#### 보조 스트림

- 기본 스트림의 성능을 높이거나 보조 기능을 제공하는 스트림
- 입출력 기능을 직접 수행하지는 못함
- 보조 스트림을 생성할 때, 기본 스트림 객체를 생성자의 인자로 이용함
  - 기본 스트림을 보조 스트림으로 감싼다라고 함
  - 프로그램에서는 보조 스트림을 사용해 입출력하면 됨
