# 13강. 파일처리 함수

## 1. 파일 입출력의 개념

- 파일 입출력이란
  - 보조기억장치의 파일을 이용한 자료의 입출력
    - 파일 처리 함수를 이용
  - 키보드나 모니터를 통한 자료의 입출력
    - 표준 입출력 함수를 이용
- 파일처리함수
  - 보조기억장치에 들어있는 정보들의 모임을 파일이라 하고, 이러한 파일을 제어하는 함수

- 파일
  - 보조기억장치에 저장된 데이터들의 모임
  - 바이트들로 구성
  - 운영체제를 통해서 파일을 읽거나 쓰게 됨
  - C언어에서는 컴퓨터와 연결된 장치들까지도 모두 파일의 범주에 넣어 처리
- 파일의 구분
  - 텍스트 파일
    - 화면에 출력되는 문자들로 구성된 파일
  - 2진 파일
    - 텍스트 파일을 포함한 모든 종류의 자료를 다루는 파일
    - 컴파일 되어 있어 기계어에 가까우므로 내용을 이해하거나 인쇄 불가능
- 파일에 대한 자료의 입출력
  - 파일 입력
    - 디스크 상의 특정 위치에 수록되어 있는 자료를 읽어 들여 기억공간에 수록하는 절차
  - 파일 출력
    - 기억공간에 있는 자료를 디스크상의 특정 위치에 수록하는 절차
- 파일처리를 위해서는 파일포인터를 사용
  - 파일포인터
    - 파일이 어디에 있는지를 가리키는 포인터
    - 모든 파일 입출력 함수는 파일 포인터를 사용
- 파일을 입출력할 때는 버퍼 사용
  - 버퍼
    - 기억공간과 디스크 사이에 존재하는 임시 기억 공간

## 2. 파일포인터를 이용한 파일 입출력

- 자료의 입출력 개념

  - 프로그램 입출력와의 사이에 이루어지는 자료의 입력과 출력
  - 자료의 입출력을 위한 논리적인 통로가 필요 : 스트림

- 자료의 입출력을 위해서는 스트림 필요

  - 표준 입출력장치와의 스트림은 프로그램 실행시 자동 생성되고, 종료시 자동 소멸됨

  - 파일 입출력을 위한 스트림은 프로그램을 통해 생성과 소멸을 시켜주어야 함

- 스트림의 생성

  - 파일과 프로그램의 통로를 구성
  - 통로 역할을 파일 포인터가 수행

### 파일포인터 선언과 파일 열기

- 파일 열기
  - fopen() 함수
    - 입출력이 정상이면 지정된 파일의 파일포인터에 시작주소 값을 리턴
    - 파일이 개방되지 않을 때는 에러 값을 리턴
  - fclose() 함수
    - 개방된 통로와 버퍼를 원 상태로 환원
    - 쓰기의 경우 파일 끝에 EOF 신호를 부가(완전한 파일로 완성됨)

## 3. 순차파일처리

- 정보의 집합 -> 파일
  - 파일은 레코드 단위로 구성
    - 레코드
      - 파일 입출력 처리에 사용되는 논리적인 기본단위
      - 각 레코드들은 필드들로 구성
- 파일의 종류
  - 순찰 파일
    - 파일의 처음부터 자료를 차례로 읽고, 기록하는 파일
    - 레코드의 길이가 일정하지 않은 파일
  - 랜덤 파일
    - 파일의 임의의 위치에서 자료를 읽고, 기록하는 파일
    - 레코드의 길이가 일정한 파일

- 순차파일에서의 레코드 구성
  - 순차파일은 레코드의 길이가 일정하지 않기 때문에 레코드들의 구분이 필요
    - CR/LF 를 사용하여 구분
    - 텍스트 모드일 경우 \n 개행문자로 변환
